# Ğ¢Ğ—-4: Telegram-Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ (frontend-admin)

## ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚

ĞŸÑ€Ğ¾ĞµĞºÑ‚: ZipMobile/
Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹: tenant-auth (Ğ¿Ğ¾Ñ€Ñ‚ 8090), frontend-admin (Ğ¿Ğ¾Ñ€Ñ‚ 3000), frontend-miniapp (Ğ¿Ğ¾Ñ€Ñ‚ 3001)
Ğ‘Ğ¾Ñ‚: @zipmobile_bot
Ğ”Ğ¾Ğ¼ĞµĞ½: avito.newlcd.ru (Ñ‡ĞµÑ€ĞµĞ· cloudflared tunnel)
GitHub: https://github.com/n8nRemacs/ZipMobile

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ:** ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Telegram Login Widget + QR-ĞºĞ¾Ğ´. ĞÑˆĞ¸Ğ±ĞºĞ° "Bot domain invalid" Ğ½Ğ° localhost. ĞĞµÑ‚ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³Ğ°, Ğ½ĞµÑ‚ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ²Ñ…Ğ¾Ğ´Ğ°.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ â€” Ñ‡ĞµÑ€ĞµĞ· Telegram. Ğ¤Ğ¾Ñ€Ğ¼Ñ‹ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° Ğ¸ OTP â€” ĞĞ• Ğ½ÑƒĞ¶Ğ½Ñ‹.

### Backend API (ÑƒĞ¶Ğµ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚):
- `POST /auth/v1/register-via-telegram` â€” Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ/Ğ²Ñ…Ğ¾Ğ´ Ñ‡ĞµÑ€ĞµĞ· Telegram
- `POST /auth/v1/refresh` â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ JWT
- `POST /auth/v1/logout` â€” Ğ²Ñ‹Ñ…Ğ¾Ğ´
- `GET /auth/v1/profile` â€” Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `GET /auth/v1/billing/v2/services` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ²
- `GET /auth/v1/billing/v2/my` â€” Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `GET /auth/v1/billing/v2/usage` â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ
- `GET /auth/v1/billing/v2/seats` â€” Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ¼ĞµÑÑ‚

---

## 1. Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (LoginView.vue) â€” ĞŸĞ•Ğ Ğ•Ğ”Ğ•Ğ›ĞĞ¢Ğ¬

### Ğ”Ğ²Ğ° Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:

#### Ğ ĞµĞ¶Ğ¸Ğ¼ A: Production (hostname â‰  localhost/127.0.0.1)
Telegram Login Widget Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğµ Ñ HTTPS.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚            â”‚ ZIP logo â”‚                      â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                              â”‚
â”‚           ZipMobile                          â”‚
â”‚   ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ñ… Ñ†ĞµĞ½Ñ‚Ñ€Ğ¾Ğ²            â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚ ğŸ”µ Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ Ñ‡ĞµÑ€ĞµĞ·       â”‚              â”‚
â”‚        â”‚    Telegram          â”‚              â”‚  â† Telegram Login Widget
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â”‚   ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ²Ñ‹ÑˆĞµ â€” Ğ²Ğ°Ğ¼ Ğ¿Ñ€Ğ¸Ğ´Ñ‘Ñ‚          â”‚
â”‚   Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ² Telegram.           â”‚
â”‚   ĞĞºĞºĞ°ÑƒĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸.           â”‚
â”‚                                              â”‚
â”‚                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   ĞĞµÑ‚ Telegram?                              â”‚
â”‚   Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ: telegram.org                     â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ğ ĞµĞ¶Ğ¸Ğ¼ B: Localhost (Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸)
Telegram Widget Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚. ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ deeplink Ñ‡ĞµÑ€ĞµĞ· Ğ±Ğ¾Ñ‚Ğ°.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚            ZipMobile                         â”‚
â”‚   ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ñ… Ñ†ĞµĞ½Ñ‚Ñ€Ğ¾Ğ²            â”‚
â”‚                                              â”‚
â”‚   âš ï¸ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (localhost)                  â”‚
â”‚   Telegram Widget Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½.                â”‚
â”‚                                              â”‚
â”‚   Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ñ‡ĞµÑ€ĞµĞ· Ğ±Ğ¾Ñ‚Ğ°:                        â”‚
â”‚                                              â”‚
â”‚   1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ @zipmobile_bot                 â”‚
â”‚   2. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ /start                          â”‚
â”‚   3. Ğ‘Ğ¾Ñ‚ Ğ²Ñ‹Ğ´Ğ°ÑÑ‚ ÑÑÑ‹Ğ»ĞºÑƒ Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´Ğ°             â”‚
â”‚                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚ ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ğ° â†’      â”‚                    â”‚  â† ÑÑÑ‹Ğ»ĞºĞ° t.me/zipmobile_bot
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                              â”‚
â”‚   â”€â”€â”€â”€ Ğ˜Ğ›Ğ˜ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ â”€â”€â”€â”€             â”‚
â”‚                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚ Dev Login           â”‚                    â”‚  â† Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² dev mode
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚   (Ğ²Ñ…Ğ¾Ğ´ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼)              â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Dev Login:** ĞĞ° localhost ĞºĞ½Ğ¾Ğ¿ĞºĞ° "Dev Login" Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ `POST /auth/v1/register-via-telegram` Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸:
```json
{
  "telegram_id": 999999999,
  "username": "dev_user",
  "first_name": "Developer",
  "last_name": "Test"
}
```
Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ±ĞµĞ· Telegram Ğ½Ğ° localhost.

### Telegram Login Widget â€” callback:

ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·ÑƒĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Telegram Widget, callback Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚:
```json
{
  "id": 123456789,
  "first_name": "Ğ˜Ğ²Ğ°Ğ½",
  "last_name": "ĞŸĞµÑ‚Ñ€Ğ¾Ğ²",
  "username": "ivanpetrov",
  "photo_url": "https://t.me/i/userpic/320/...",
  "auth_date": 1708012345,
  "hash": "abc123def456..."
}
```

Frontend Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑÑ‚Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ° Ğ±ÑĞºĞµĞ½Ğ´:
```typescript
// POST /auth/v1/register-via-telegram
const response = await api.post('/auth/v1/register-via-telegram', {
  telegram_id: user.id,
  username: user.username,
  first_name: user.first_name,
  last_name: user.last_name,
  photo_url: user.photo_url,
  auth_date: user.auth_date,
  hash: user.hash
})

// Response: { access_token, refresh_token, token_type, expires_in, is_new_user }
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°:**
- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ `access_token` Ğ¸ `refresh_token` Ğ² localStorage
- Ğ•ÑĞ»Ğ¸ `is_new_user === true` â†’ redirect Ğ½Ğ° `/onboarding`
- Ğ•ÑĞ»Ğ¸ `is_new_user === false` â†’ redirect Ğ½Ğ° `/dashboard`

### Ğ’Ğ°Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾ Telegram Login Widget:

Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ», Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ² @BotFather:
1. `/mybots` â†’ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ @zipmobile_bot
2. `Bot Settings` â†’ `Domain` â†’ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ´Ğ¾Ğ¼ĞµĞ½ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ `avito.newlcd.ru`)

ĞšĞ¾Ğ´ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°:
```html
<script async src="https://telegram.org/js/telegram-widget.js?22"
  data-telegram-login="zipmobile_bot"
  data-size="large"
  data-radius="8"
  data-onauth="onTelegramAuth(user)"
  data-request-access="write">
</script>
```

Ğ˜Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· `window.Telegram.Login.auth()`.

---

## 2. ĞĞ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ (OnboardingView.vue) â€” Ğ¡ĞĞ—Ğ”ĞĞ¢Ğ¬

**ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚:** `/onboarding`
**ĞšĞ¾Ğ³Ğ´Ğ°:** Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ (is_new_user === true)

### Ğ¨Ğ°Ğ³ 1 Ğ¸Ğ· 3: ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â— â—‹ â—‹                          Ğ¨Ğ°Ğ³ 1 Ğ¸Ğ· 3  â”‚
â”‚                                              â”‚
â”‚  ğŸ‰ Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, {first_name}!          â”‚
â”‚                                              â”‚
â”‚  Ğ’Ğ°Ñˆ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½.                        â”‚
â”‚  Ğ”Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‡ĞµĞµ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğ¾.      â”‚
â”‚                                              â”‚
â”‚  Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ZipMobile?                        â”‚
â”‚  â”€ ĞŸĞ¾Ğ¸ÑĞº Ğ·Ğ°Ğ¿Ñ‡Ğ°ÑÑ‚ĞµĞ¹ Ğ¿Ğ¾ Ğ±Ğ°Ğ·Ğµ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸ĞºĞ¾Ğ²       â”‚
â”‚  â”€ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡Ğ°Ñ‚Ğ°Ğ¼Ğ¸ ĞĞ²Ğ¸Ñ‚Ğ¾                   â”‚
â”‚  â”€ API Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ CRM                  â”‚
â”‚                                              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                        â”‚ Ğ”Ğ°Ğ»ĞµĞµ â†’          â”‚   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¨Ğ°Ğ³ 2 Ğ¸Ğ· 3: Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â—‹ â— â—‹                          Ğ¨Ğ°Ğ³ 2 Ğ¸Ğ· 3  â”‚
â”‚                                              â”‚
â”‚  ĞšĞ°ĞºĞ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ²Ğ°Ğ¼ Ğ½ÑƒĞ¶Ğ½Ñ‹?                    â”‚
â”‚  (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¶Ğµ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ñ…)         â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ” ĞŸĞ¾Ğ¸ÑĞº Ğ·Ğ°Ğ¿Ñ‡Ğ°ÑÑ‚ĞµĞ¹                â”‚      â”‚
â”‚  â”‚ ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ±Ğ°Ğ·Ğµ 50+ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸ĞºĞ¾Ğ²     â”‚      â”‚
â”‚  â”‚ âœ… ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ â€” Free               â”‚      â”‚  â† Ğ²ÑĞµĞ³Ğ´Ğ° Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ’¬ ĞĞ²Ğ¸Ñ‚Ğ¾ ĞœĞµÑÑĞµĞ½Ğ´Ğ¶ĞµÑ€                â”‚      â”‚
â”‚  â”‚ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‡Ğ°Ñ‚Ğ°Ğ¼Ğ¸ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸     â”‚      â”‚
â”‚  â”‚ â˜ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾            â”‚      â”‚  â† Ñ‡ĞµĞºĞ±Ğ¾ĞºÑ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ”— API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿                      â”‚      â”‚
â”‚  â”‚ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ²Ğ°ÑˆĞµĞ¹ CRM            â”‚      â”‚
â”‚  â”‚ â˜ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾            â”‚      â”‚  â† Ñ‡ĞµĞºĞ±Ğ¾ĞºÑ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â† ĞĞ°Ğ·Ğ°Ğ´  â”‚          â”‚ Ğ”Ğ°Ğ»ĞµĞµ â†’          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒ Ğ¸Ğ· `GET /auth/v1/billing/v2/services`.
ĞŸÑ€Ğ¸ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğµ "Ğ”Ğ°Ğ»ĞµĞµ" â€” Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ½Ğ° Ğ±ÑĞºĞµĞ½Ğ´ (Ğ²ÑĞµ free-Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ ÑƒĞ¶Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ Ğ¿Ñ€Ğ¸ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸). ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ½Ğ° ÑˆĞ°Ğ³ 3.

### Ğ¨Ğ°Ğ³ 3 Ğ¸Ğ· 3: Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â—‹ â—‹ â—                          Ğ¨Ğ°Ğ³ 3 Ğ¸Ğ· 3  â”‚
â”‚                                              â”‚
â”‚  âœ… Ğ’ÑÑ‘ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!                               â”‚
â”‚                                              â”‚
â”‚  Ğ’Ğ°Ñˆ Ğ¿Ğ»Ğ°Ğ½: Free                             â”‚
â”‚  ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹:                       â”‚
â”‚  â€¢ ĞŸĞ¾Ğ¸ÑĞº Ğ·Ğ°Ğ¿Ñ‡Ğ°ÑÑ‚ĞµĞ¹                           â”‚
â”‚  â€¢ ĞĞ²Ğ¸Ñ‚Ğ¾ ĞœĞµÑÑĞµĞ½Ğ´Ğ¶ĞµÑ€                          â”‚
â”‚                                              â”‚
â”‚  ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°: 1 Ğ¼ĞµÑÑ‚Ğ¾                            â”‚
â”‚                                              â”‚
â”‚  Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½ Ğ² Ğ»ÑĞ±Ğ¾Ğµ             â”‚
â”‚  Ğ²Ñ€ĞµĞ¼Ñ Ğ² Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğµ Â«Ğ‘Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³Â».                  â”‚
â”‚                                              â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚              â”‚ ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸ Ğ² Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ â†’       â”‚     â”‚  â† redirect /dashboard
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ (DashboardView.vue) â€” ĞŸĞ•Ğ Ğ•Ğ”Ğ•Ğ›ĞĞ¢Ğ¬

### Ğ¨Ğ°Ğ¿ĞºĞ° (Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ZipMobile              Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´   Ğ‘Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³   ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°   API-ĞºĞ»ÑÑ‡Ğ¸ â”‚
â”‚                                                                  â”‚
â”‚                                    ğŸ‘¤ Ğ˜Ğ²Ğ°Ğ½ ĞŸĞµÑ‚Ñ€Ğ¾Ğ² â–¾    [Ğ’Ñ‹Ğ¹Ñ‚Ğ¸]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ĞºĞ° Ğ±ĞµĞ· Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ñ… ÑÑÑ‹Ğ»Ğ¾Ğº (ĞºÑ€Ğ¾Ğ¼Ğµ Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ¸ Ğ’Ñ‹Ğ¹Ñ‚Ğ¸). Ğ‘Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³, ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°, API-ĞºĞ»ÑÑ‡Ğ¸ â€” Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¿Ğ¾Ğ·Ğ¶Ğµ, Ğ¿Ñ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ "Ğ¡ĞºĞ¾Ñ€Ğ¾".

Ğ˜Ğ¼Ñ Ğ¸ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ â€” Ğ¸Ğ· `GET /auth/v1/profile`.
ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ’Ñ‹Ğ¹Ñ‚Ğ¸" â€” `POST /auth/v1/logout` + Ğ¾Ñ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ localStorage + redirect /login.

### ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, Ğ˜Ğ²Ğ°Ğ½!                                        â”‚
â”‚  ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ: Ğ˜Ğ²Ğ°Ğ½ ĞŸĞµÑ‚Ñ€Ğ¾Ğ²  â€¢  ĞŸĞ»Ğ°Ğ½: Free                           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ”               â”‚ â”‚ ğŸ’¬               â”‚ â”‚ ğŸ”—               â”‚    â”‚
â”‚  â”‚ ĞŸĞ¾Ğ¸ÑĞº Ğ·Ğ°Ğ¿Ñ‡Ğ°ÑÑ‚ĞµĞ¹  â”‚ â”‚ ĞĞ²Ğ¸Ñ‚Ğ¾           â”‚ â”‚ API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿       â”‚    â”‚
â”‚  â”‚                  â”‚ â”‚ ĞœĞµÑÑĞµĞ½Ğ´Ğ¶ĞµÑ€      â”‚ â”‚                  â”‚    â”‚
â”‚  â”‚ ĞŸĞ»Ğ°Ğ½: Free       â”‚ â”‚ ĞŸĞ»Ğ°Ğ½: Free      â”‚ â”‚ ĞŸĞ»Ğ°Ğ½: Free       â”‚    â”‚
â”‚  â”‚                  â”‚ â”‚                 â”‚ â”‚                  â”‚    â”‚
â”‚  â”‚ Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ â”‚ â”‚ Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹       â”‚ â”‚ Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²         â”‚    â”‚
â”‚  â”‚ 0 / 5            â”‚ â”‚ 0 / 50          â”‚ â”‚ 0 / 100          â”‚    â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  0%   â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0%  â”‚ â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0%   â”‚    â”‚
â”‚  â”‚                  â”‚ â”‚                 â”‚ â”‚                  â”‚    â”‚
â”‚  â”‚ [ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ]        â”‚ â”‚ [ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ]       â”‚ â”‚ [Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ]   â”‚    â”‚
â”‚  â”‚ [Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½â†‘] â”‚ â”‚ [Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒâ†‘]     â”‚ â”‚ [Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒâ†‘]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¥ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°                                               â”‚    â”‚
â”‚  â”‚ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¾: 1 / 1 Ğ¼ĞµÑÑ‚ (Free)                          â”‚    â”‚
â”‚  â”‚                                         [Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ â†’]   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°:

```typescript
// Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ mount:
const profile = await api.get('/auth/v1/profile')
// â†’ { name, role, tenant_id, telegram_id, ... }

const billing = await api.get('/auth/v1/billing/v2/my')
// â†’ { subscriptions: [...], seat_subscription: {...} }
// ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚: service_name, plan_name, limits (JSONB)

const usage = await api.get('/auth/v1/billing/v2/usage')
// â†’ { counters: [{service_id, counter_key, used, limit}] }
```

### ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²:

ĞšĞ°Ğ¶Ğ´Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚:
- Ğ˜ĞºĞ¾Ğ½ĞºÑƒ Ğ¸ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
- Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½ (Ğ¸Ğ· billing.subscriptions)
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ (Ğ¸Ğ· usage.counters) â€” Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ" â€” ÑÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ» (Ğ¿Ğ¾ĞºĞ° Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ğ½" â€” Ğ¿Ğ¾ĞºĞ° Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ "Ğ¡ĞºĞ¾Ñ€Ğ¾" Ğ¿Ñ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ

### ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:

```typescript
// ĞŸĞ¾Ğ´ÑÑ‡Ñ‘Ñ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°:
const percent = limit === -1 ? 0 : Math.min(100, (used / limit) * 100)

// Ğ¦Ğ²ĞµÑ‚:
// 0-70%  â†’ Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ (#22C55E)
// 70-90% â†’ Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹ (#EAB308)
// 90%+   â†’ ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ (#EF4444)
```

---

## 4. ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ (router/index.ts) â€” ĞĞ‘ĞĞĞ’Ğ˜Ğ¢Ğ¬

```typescript
const routes = [
  { path: '/login', name: 'Login', component: LoginView, meta: { guest: true } },
  { path: '/onboarding', name: 'Onboarding', component: OnboardingView, meta: { requiresAuth: true } },
  { path: '/dashboard', name: 'Dashboard', component: DashboardView, meta: { requiresAuth: true } },
  { path: '/', redirect: '/dashboard' },
  { path: '/:pathMatch(.*)*', redirect: '/dashboard' }
]
```

### Auth guard:

```typescript
router.beforeEach((to, from, next) => {
  const token = localStorage.getItem('access_token')

  if (to.meta.requiresAuth && !token) {
    // ĞĞµ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ â†’ Ğ½Ğ° Ğ»Ğ¾Ğ³Ğ¸Ğ½
    next('/login')
  } else if (to.meta.guest && token) {
    // Ğ£Ğ¶Ğµ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ â†’ Ğ½Ğ° Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´
    next('/dashboard')
  } else {
    next()
  }
})
```

---

## 5. API-ĞºĞ»Ğ¸ĞµĞ½Ñ‚ (api/index.ts Ğ¸Ğ»Ğ¸ api/auth.ts)

### Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ñ interceptor:

```typescript
import axios from 'axios'

const API_BASE = import.meta.env.VITE_API_URL || 'http://localhost:8090'

const api = axios.create({
  baseURL: API_BASE,
  timeout: 10000,
})

// Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ñ‚Ğ¾ĞºĞµĞ½ ĞºĞ¾ Ğ²ÑĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼
api.interceptors.request.use(config => {
  const token = localStorage.getItem('access_token')
  if (token) {
    config.headers.Authorization = `Bearer ${token}`
  }
  return config
})

// ĞĞ²Ñ‚Ğ¾Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ 401
api.interceptors.response.use(
  response => response,
  async error => {
    const originalRequest = error.config

    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true

      const refreshToken = localStorage.getItem('refresh_token')
      if (refreshToken) {
        try {
          const res = await axios.post(`${API_BASE}/auth/v1/refresh`, {
            refresh_token: refreshToken
          })
          localStorage.setItem('access_token', res.data.access_token)
          localStorage.setItem('refresh_token', res.data.refresh_token)
          originalRequest.headers.Authorization = `Bearer ${res.data.access_token}`
          return api(originalRequest)
        } catch {
          // Refresh Ñ‚Ğ¾Ğ¶Ğµ Ğ½ĞµĞ²Ğ°Ğ»Ğ¸Ğ´ĞµĞ½ â†’ Ğ²Ñ‹Ñ…Ğ¾Ğ´
          localStorage.removeItem('access_token')
          localStorage.removeItem('refresh_token')
          window.location.href = '/login'
          return Promise.reject(error)
        }
      } else {
        localStorage.removeItem('access_token')
        window.location.href = '/login'
      }
    }
    return Promise.reject(error)
  }
)

export default api
```

### API-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:

```typescript
// Telegram Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
export function registerViaTelegram(data: {
  telegram_id: number
  username?: string
  first_name: string
  last_name?: string
  photo_url?: string
  auth_date?: number
  hash?: string
}) {
  return api.post('/auth/v1/register-via-telegram', data)
}

// Ğ’Ñ‹Ñ…Ğ¾Ğ´
export function logout(refreshToken: string) {
  return api.post('/auth/v1/logout', { refresh_token: refreshToken })
}

// ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
export function getProfile() {
  return api.get('/auth/v1/profile')
}

// Ğ‘Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³ v2
export function getMyBilling() {
  return api.get('/auth/v1/billing/v2/my')
}

export function getBillingUsage() {
  return api.get('/auth/v1/billing/v2/usage')
}

export function getBillingServices() {
  return api.get('/auth/v1/billing/v2/services')
}

export function getSeatPackages() {
  return api.get('/auth/v1/billing/v2/seats')
}
```

---

## 6. Composable useAuth (composables/useAuth.ts)

```typescript
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'
import { registerViaTelegram, logout as apiLogout, getProfile } from '@/api/auth'

const user = ref(null)
const isAuthenticated = computed(() => !!localStorage.getItem('access_token'))

export function useAuth() {
  const router = useRouter()

  async function loginWithTelegram(telegramUser: any) {
    const res = await registerViaTelegram({
      telegram_id: telegramUser.id,
      username: telegramUser.username,
      first_name: telegramUser.first_name,
      last_name: telegramUser.last_name,
      photo_url: telegramUser.photo_url,
      auth_date: telegramUser.auth_date,
      hash: telegramUser.hash,
    })

    localStorage.setItem('access_token', res.data.access_token)
    localStorage.setItem('refresh_token', res.data.refresh_token)

    if (res.data.is_new_user) {
      router.push('/onboarding')
    } else {
      router.push('/dashboard')
    }
  }

  // Dev Login (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ localhost)
  async function devLogin() {
    const res = await registerViaTelegram({
      telegram_id: 999999999,
      username: 'dev_user',
      first_name: 'Developer',
      last_name: 'Test',
    })
    localStorage.setItem('access_token', res.data.access_token)
    localStorage.setItem('refresh_token', res.data.refresh_token)
    router.push('/dashboard')
  }

  async function logout() {
    const refreshToken = localStorage.getItem('refresh_token')
    if (refreshToken) {
      try { await apiLogout(refreshToken) } catch {}
    }
    localStorage.removeItem('access_token')
    localStorage.removeItem('refresh_token')
    user.value = null
    router.push('/login')
  }

  async function fetchProfile() {
    try {
      const res = await getProfile()
      user.value = res.data
    } catch {
      user.value = null
    }
  }

  return { user, isAuthenticated, loginWithTelegram, devLogin, logout, fetchProfile }
}
```

---

## 7. Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ/Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ:
- `src/views/OnboardingView.vue` â€” Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³ (3 ÑˆĞ°Ğ³Ğ°)
- `src/composables/useAuth.ts` â€” composable Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- `src/api/auth.ts` â€” API-Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ (ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ°)

### Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ:
- `src/views/LoginView.vue` â€” Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ¿ĞµÑ€ĞµĞ´ĞµĞ»ĞºĞ° (Telegram Widget + Dev Login)
- `src/views/DashboardView.vue` â€” ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
- `src/router/index.ts` â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ + auth guard
- `src/api/index.ts` â€” axios interceptors (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚)

### ĞĞ• Ñ‚Ñ€Ğ¾Ğ³Ğ°Ñ‚ÑŒ:
- Backend (tenant-auth) â€” Ğ²ÑÑ‘ ÑƒĞ¶Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
- frontend-miniapp â€” Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾
- ĞĞ¸ĞºĞ°ĞºĞ¸Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸/SQL

---

## 8. Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½

### Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°:
- Ğ¤Ğ¾Ğ½: Ğ±ĞµĞ»Ñ‹Ğ¹ (#FFFFFF) Ğ¸Ğ»Ğ¸ ÑĞ²ĞµÑ‚Ğ»Ğ¾-ÑĞµÑ€Ñ‹Ğ¹ (#F9FAFB)
- ĞĞºÑ†ĞµĞ½Ñ‚: ÑĞ¸Ğ½Ğ¸Ğ¹ (#3B82F6) â€” ĞºĞ½Ğ¾Ğ¿ĞºĞ¸, ÑÑÑ‹Ğ»ĞºĞ¸
- Ğ¢ĞµĞºÑÑ‚: Ñ‚Ñ‘Ğ¼Ğ½Ğ¾-ÑĞµÑ€Ñ‹Ğ¹ (#111827)
- Ğ’Ñ‚Ğ¾Ñ€Ğ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚: ÑĞµÑ€Ñ‹Ğ¹ (#6B7280)
- Ğ£ÑĞ¿ĞµÑ…: Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ (#22C55E)
- ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ: Ğ¶Ñ‘Ğ»Ñ‚Ñ‹Ğ¹ (#EAB308)
- ĞĞ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ: ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ (#EF4444)
- ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸: Ğ±ĞµĞ»Ñ‹Ğ¹ Ñ„Ğ¾Ğ½, Ñ‚Ğ¾Ğ½ĞºĞ°Ñ Ñ€Ğ°Ğ¼ĞºĞ° (#E5E7EB), ÑĞºÑ€ÑƒĞ³Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑƒĞ³Ğ»Ñ‹ (8px), Ñ‚ĞµĞ½ÑŒ (sm)

### ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ:
- Desktop: ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ² 3 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸
- Tablet: 2 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸
- Mobile: 1 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ°
- ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°: 320px

### ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸:
- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¾Ğ² Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³Ğ°: slide-left / slide-right (CSS transition)
- ĞŸĞ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº: fade-in Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
- ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€: Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ (CSS transition 0.3s)

---

## 9. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

- ĞŸÑ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ API â€” Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ toast/notification Ğ²Ğ²ĞµÑ€Ñ…Ñƒ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
- ĞŸÑ€Ğ¸ ÑĞµÑ‚ĞµĞ²Ğ¾Ğ¹ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ â€” "ĞĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ."
- ĞŸÑ€Ğ¸ 401 â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ refresh (Ñ‡ĞµÑ€ĞµĞ· interceptor)
- ĞŸÑ€Ğ¸ Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ refresh â€” redirect Ğ½Ğ° /login
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… â€” Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ skeleton/spinner

---

## 10. Ğ§Ñ‚Ğ¾ ĞĞ• Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ (Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ¾Ğ·Ğ¶Ğµ)

- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ (Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ (Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ñ)
- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ±Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³Ğ° (ÑĞ¼ĞµĞ½Ğ° Ğ¿Ğ»Ğ°Ğ½Ğ°, Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ°)
- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° API-ĞºĞ»ÑÑ‡ĞµĞ¹
- Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ®Kassa
- Ğ¤Ğ¾Ñ€Ğ¼Ñ‹ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° Ğ¸ OTP (Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ğ¼ SMS/Telegram OTP Ğ¿Ğ¾Ğ·Ğ¶Ğµ)
- Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ° Ğ² Mini App (requestContact) â€” Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°
